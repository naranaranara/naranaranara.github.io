---
layout: post
title:  "PINN 코드 세팅 방법"
toc: true          # 우측 목차
toc_sticky: true   # 스크롤해도 고정
date: 2025-12-19
tags: [markdown, blog]
use_math: true
mathjax: true
---
## VS Code에서 PINNs 프로젝트 환경 세팅

### 1\. 전체 Flow

1\. 프로젝트 위치 정리(영문 경로)  
2\. PowerShell에서 프로젝트 폴더로 이동  
3\. (필요 시) Python 버전 제한 풀기 (pyproject.toml)  
4\. 가상환경 (venv) 생성  
5\. 가상환경 활성화  
6\. pip 업그레이드  
7\. 프로젝트(로컬 패키지) editable 설치 (pip install -e .)  
8\. 외부 라이브러리 설치 (deepxde/torch/pyevtk/gmsh 등)  
9\. 설치 확인 (import 테스트)  
10\. 코드 실행  

### 2\. 각 단계별 실행코드  

2-1\. 프로젝트를 영문 경로로 두기  

$\rightarrow$   경로에 한글이 있으면 파이썬이 stie 모듈을 읽다가 UnicodeDecodeError로 죽는 케이스 있음  

2-2\. 프로젝트 폴더로 이동  

$\rightarrow$  pip install -e. 같은 명령은 현재 폴더에 있는 프로젝트를 기준으로 설치한다.  

2-3\. ```pyproject.toml``` 의 python 버전 제한 수정  

$\rightarrow$  프로젝트가 ```requires-python = "==3.12.*"``` 처럼 특정 버전만 허용되면, 그 외 버전에서는 ```pip install -e .``` 자체가 차단된다.  

```python
requires-python = "==3.12.*"
```

이 줄을 찾아서  아래처럼 수정  

```python
requires-python = ">=3.10,<3.13"
```

2-4\. 가상환경(venv) 생성  

$\rightarrow$  가상환경은 프로젝트 전용 '미니 파이썬 공간'이다.  
여기 안에는 보통 script, lib, 환경설정 파일들이 들어있다.   
즉, 프로젝트별로 독립 관리하게 해준다.  

```python
py -3.10 -m venv .venv
```

2-5\. 가상환경 활성화  

$\rightarrow$ 활성화하면 ```python```, ```pip``` 명령이 시스템 파이썬이 아니라 ```.venv``` 안의 파이썬을 가리키게 된다.  

```python
.\.venv\Scripts\Activate.ps1
```
성공하면 프롬프트 앞에 ```(.venv)``` 가 붙는다  

2-6\. pip 업그레이드  

$\rightarrow$  ```pip```은 파이썬 라이브러리 설치 관리자이다. 버전이 오래되면 최신 패키지 설치/의존성 해결이 잘 안 되거나, editable 설치에 문제가 생길 수 있다.  

```python
python -m pip install -U pip
```

2-7\. 프로젝트를 editable 모드로 설치  

$\rightarrow$  내 코드에서 ```compsin_pinns...``` 같은 import가 있었는데, 이건 pip로 공개 설치하는 패키지가 아니라 프로젝트 내부폴더(로컬패키지)다.  
```pip install -e .```을 하면 프로젝트가 설치된 패키지처럼 인식되어 import가 안정적으로 된다.  

```python
python -m pip install -e .
```

2-8\. 외부 라이브러리 설치 (DeepXDE, Torch, VTK 등)  

$\rightarrow$  코드에 ```import deepxde```, ```import torch``` 등을 직접 사용한다.   

```python
python -m pip install deepxde torch pyevtk gmsh numpy matplotlib
python -m pip install tensorflow
```

2-9\. 설치 확인  

$\rightarrow$ 실제로 이 환경에서 import가 되는지 확인해야 한다.  

```python
python -c "import deepxde as dde; print('deepxde OK', dde.__version__)"
python -c "import compsim_pinns; print('compsim_pinns OK')"
python -c "import torch; print('torch OK', torch.__version__)"
python -c "from pyevtk.hl import unstructuredGridToVTK; print('pyevtk OK')"
python -c "import tensorflow as tf; print('tf OK', tf.__version__)"
```

## 자주 쓰는 명령  

1\. 지금 ```python```이 누구인지? (venv인지 아나콘다인지 확인)  

```python
where python
python -c "import sys; print(sys.executable)"
```

2\. 패키지가 이 환경에 설치됐는지 확인  

```python
python -m pip show deepxde
python -m pip show pyevtk
```


